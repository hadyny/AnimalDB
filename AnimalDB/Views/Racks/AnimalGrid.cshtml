@model AnimalDB.Repo.Entities.Rack

@section BackNav {
    <a class="btn btn-sm btn-secondary" href="@Url.Action("Index")"><i class="fas fa-arrow-left"></i> Back</a>
}

<h2>Animals in @Model.Reference_Id</h2>
@{ char c = 'A'; }
<div>
    <table class="table table-striped table-bordered racktable">
        @for (int i = 0; i < Model.Height; i++)
        {
            <tr class="small info">
                @for (int j = 1; j <= Model.Width; j++)
                {
                    <th>@c@j</th>
                }
            </tr>
            <tr>
                @for (int j = 1; j <= Model.Width; j++)
                {
                    <td>
                        @{
                            var entry = Model.RackEntries.SingleOrDefault(m => m.LocationReferenceX == j && m.LocationReferenceY == c.ToString() && m.IsCurrent);
                            if (entry != null)
                            {
                                @entry.Animal.UniqueAnimalId
                            }
                            else
                            {
                                <em>Empty</em>
                            }
                        }
                    </td>
                }
            </tr>
            c++;
        }
    </table>
</div>
